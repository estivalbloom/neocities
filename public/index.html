<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Esti's Old Computer</title>
	<link rel="stylesheet" href="/assets/style.css" type="text/css" media="all">
	<link rel="stylesheet" href="https://unpkg.com/98.css">
	<link rel="icon" href="/assets/icons/thinking-even98er.png" type="image/png">
	<script type="module">
		import { defineAll } from '/components/index.js'
		defineAll()
	</script>
</head>

<body>
	<div class="container">
		<div class="spacer"></div>
		<div class="main window">
			<div class="title-bar">
				<div class="title-bar-text">
					Welcome!
				</div>
			</div>
			<div class="window-body">
				<div id="center-col">
					<img id="logo" src="/assets/shitty-logo.png">
					<pre id="message"></pre>
				</div>
				<div class="vertical-rule" style="margin-right: 1px;"></div>
				<nav id="nav-list">
					<nav-item
						icon-src="/assets/icons/thinking-even98er.png"
						title="Bio"
						desc="About the Esti"
						title-width="64px"
					></nav-item>
					<nav-item
						icon-src="/assets/icons/palette-icon.png"
						title="Art"
						desc="Mostly pixel art, but sometimes random other things."
						title-width="64px"
					></nav-item>
					<nav-item
						icon-src="/assets/icons/code-icon.png"
						title="Code"
						desc="Games, demos, and interactive art"
						title-width="64px"
					></nav-item>
				</nav>
			</div>
		</div>
		<div class="spacer"></div>
		<win-task-bar id="task-bar"></win-task-bar>
	</div>
	<div id="modal-alert">
		<win-alert
			id="dnalert"
			title-text="Action Required"
		>
		<div slot="window-body">
			Deez nuts lmao
		</div>
		</win-alert>
	</div>
</body>

<script>
	const modal_container = document.querySelector('#modal-alert');
	const task_bar = document.querySelector('#task-bar');
	const alert = document.querySelector('#dnalert');

	alert.addEventListener('okclick', () => modal_container.style.visibility = 'hidden')
	task_bar.addEventListener('startclick', () => modal_container.style.visibility = 'visible');

	(async () => {
		let resp = await fetch('/assets/welcome-message.html');
		let html = await resp.text();
		document.querySelector('#message').innerHTML = html;
	})();
</script>

<!--
	<script>
		// Alert Spawning
		const body = document.querySelector('body');
		document.addEventListener('click', e => {
			let newAlert = document.createElement('div', { is: 'win-alert' });
			newAlert.setAttribute('title-text', 'Action Required')
			newAlert.style.width = '250px';
			newAlert.style.position = 'absolute';
			newAlert.style.left = `${e.clientX}px`;
			newAlert.style.top = `${e.clientY}px`;
			
			newAlert.addEventListener('okclick', (e) => {
				e.target.remove();
				e.stopPropagation();
				e.preventDefault();
			});
			newAlert.addEventListener('cancelclick', () => { })
			
			let alertMessage = document.createElement('div');
			alertMessage.setAttribute('slot', 'window-body');
			alertMessage.textContent = 'Deez nuts lmao';
			
			newAlert.appendChild(alertMessage);
			body.appendChild(newAlert);
		})
	</script>
-->
</html>